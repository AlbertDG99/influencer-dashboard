{% extends "base.html" %}

{% block title %}Scraping Seguro{% endblock %}

{% block content %}
<div class="card">
    <div class="card-body">
        <h2>ğŸ¯ Scraping Seguro de Instagram</h2>
        
        <div class="warning-section">
            <h3>ğŸ›¡ï¸ ConfiguraciÃ³n Realista Activa</h3>
            <div class="protection-grid">
                <div>âœ… Perfil consistente Chrome/Windows</div>
                <div>âœ… Delays conservadores (3-8s)</div>
                <div>âœ… Comportamiento humano simulado</div>
                <div>âœ… LÃ­mites de velocidad estrictos</div>
                <div>âœ… ResoluciÃ³n fija 1920x1080</div>
                <div>âœ… Idioma fijo en-US</div>
            </div>
        </div>

        <div class="account-status">
            <h3>ğŸ” Estado de Cuenta Actual</h3>
            <div class="status-grid">
                <div><strong>User ID:</strong> <span class="highlight">75438268055</span></div>
                <div><strong>Tipo:</strong> <span class="status-ok">NUEVA CUENTA</span></div>
                <div><strong>AutenticaciÃ³n:</strong> <span class="status-ok">ACTIVA âœ…</span></div>
                <div><strong>ProtecciÃ³n:</strong> <span class="status-ok">MÃXIMA âœ…</span></div>
            </div>
        </div>

        <form method="POST" action="/scrape">
            <div class="form-group">
                <label for="username">ğŸ¯ Nombre de Usuario de Instagram:</label>
                <input type="text" id="username" name="username" placeholder="ejemplo: cristiano" required>
                <small>Solo el nombre de usuario, sin @ ni URL completa</small>
            </div>
            
            <div class="form-group">
                <button type="submit" class="btn-primary">ğŸš€ Iniciar Scraping SEGURO</button>
                <a href="/progress" class="btn-secondary">ğŸ“Š Ver Progreso</a>
                <a href="/" class="btn-secondary">â† Volver al Dashboard</a>
            </div>
        </form>

        <div class="safety-info">
            <h3>âš ï¸ Protocolo de Seguridad</h3>
            <div class="safety-grid">
                <div class="safety-item">
                    <strong>ğŸŒ Velocidad Conservadora</strong>
                    <p>MÃ¡ximo 8 requests por minuto</p>
                </div>
                <div class="safety-item">
                    <strong>â±ï¸ Delays Inteligentes</strong>
                    <p>3-8 segundos + delays aleatorios</p>
                </div>
                <div class="safety-item">
                    <strong>ğŸ”„ LÃ­mites por SesiÃ³n</strong>
                    <p>MÃ¡ximo 10-20 perfiles por sesiÃ³n</p>
                </div>
                <div class="safety-item">
                    <strong>ğŸ˜´ Pausas AutomÃ¡ticas</strong>
                    <p>1-2 minutos cada 5 perfiles</p>
                </div>
            </div>
        </div>

        <div class="recommendations-section">
            <h3>ğŸ’¡ Recomendaciones de Uso</h3>
            <ul>
                <li><strong>Horarios Seguros:</strong> Evita las horas 9:00-17:00 (horas pico de Instagram)</li>
                <li><strong>Monitoreo:</strong> Revisa los logs constantemente durante el scraping</li>
                <li><strong>Pausas Largas:</strong> Espera 2-4 horas entre sesiones intensivas</li>
                <li><strong>LÃ­mites Diarios:</strong> No excedas 50-100 perfiles por dÃ­a</li>
                <li><strong>RotaciÃ³n IP:</strong> Considera usar VPN o proxies para mayor seguridad</li>
            </ul>
        </div>

        <div class="detection-signs">
            <h3>ğŸš¨ SeÃ±ales de DetecciÃ³n - PARAR INMEDIATAMENTE</h3>
            <ul>
                <li>âŒ Captchas frecuentes</li>
                <li>âŒ Errores 429 (Too Many Requests)</li>
                <li>âŒ PÃ¡ginas de verificaciÃ³n</li>
                <li>âŒ Bloqueos temporales</li>
                <li>âŒ Cambios inesperados en la interfaz</li>
            </ul>
        </div>

        <div class="progress-info">
            <h3>ğŸ“Š Seguimiento en Tiempo Real</h3>
            <ul>
                <li><strong>Barra de Progreso:</strong> Ve el avance paso a paso del scraping</li>
                <li><strong>Conteo de Posts:</strong> NÃºmero total de posts encontrados y descargados</li>
                <li><strong>Logs en Vivo:</strong> Seguimiento detallado de cada acciÃ³n</li>
                <li><strong>Descarga Local:</strong> Posts guardados en carpeta downloads/usuario</li>
                <li><strong>Tiempo Estimado:</strong> DuraciÃ³n aproximada basada en lÃ­mites anti-baneo</li>
            </ul>
        </div>

        <div class="api-info">
            <h3>ğŸ”Œ API para Desarrolladores</h3>
            <div class="code-block">
                <p><strong>POST /api/scrape</strong></p>
                <code>{"username": "nombre_usuario"}</code>
                <p><strong>GET /api/progress</strong></p>
                <code>Progreso en tiempo real</code>
            </div>
        </div>
    </div>
</div>
{% endblock %} 